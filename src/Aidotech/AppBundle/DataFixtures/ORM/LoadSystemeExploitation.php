<?php

namespace Aidotech\AppBundle\DataFixtures\ORM;

use Doctrine\Common\DataFixtures\AbstractFixture;
use Doctrine\Common\DataFixtures\OrderedFixtureInterface;
use Doctrine\Common\Persistence\ObjectManager;
use Aidotech\AppBundle\Entity\SystemeExploitation;

class LoadSystemeExploitation extends AbstractFixture implements OrderedFixtureInterface {

  public function load(ObjectManager $manager) {
    $systemes = [
        ['nom' => 'Ubuntu', 'editeur' => 'Canonical', 'version' => '16.4'],
        ['nom' => 'Ubuntu', 'editeur' => 'Canonical', 'version' => '14.4'],
        ['nom' => 'Ubuntu', 'editeur' => 'Canonical', 'version' => '13.9'],
        ['nom' => 'Windows', 'editeur' => 'Microsoft', 'version' => '10'],
        ['nom' => 'Windows', 'editeur' => 'Microsoft', 'version' => '8'],
        ['nom' => 'Windows', 'editeur' => 'Microsoft', 'version' => '7'],
        ['nom' => 'Windows', 'editeur' => 'Microsoft', 'version' => 'XP'],
        ['nom' => 'MacOS', 'editeur' => 'Apple', 'version' => 'Sierra'],
        ['nom' => 'MacOS', 'editeur' => 'Apple', 'version' => 'El Capitan'],
        ['nom' => 'MacOS', 'editeur' => 'Apple', 'version' => 'Leopard'],
        ['nom' => 'Android', 'editeur' => 'Java', 'version' => '7.0'],
        ['nom' => 'Android', 'editeur' => 'Java', 'version' => '6.0'],
        ['nom' => 'Android', 'editeur' => 'Java', 'version' => '5.5']
    ];

    foreach ($systemes as $sys) {
      $system = new SystemeExploitation();
      $system->setNom($sys['nom']);
      $system->setEditeur($sys['editeur']);
      $system->setVersion($sys['version']);
      $manager->persist($system);
    }
    $manager->flush();
  }

  public function getOrder() {
    return 1;
  }

}
