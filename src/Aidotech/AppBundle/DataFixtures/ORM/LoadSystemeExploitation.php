<?php

namespace Aidotech\AppBundle\DataFixtures\ORM;

use Doctrine\Common\DataFixtures\AbstractFixture;
use Doctrine\Common\DataFixtures\OrderedFixtureInterface;
use Doctrine\Common\Persistence\ObjectManager;
use Aidotech\AppBundle\Entity\SystemeExploitation;

class LoadSystemeExploitation extends AbstractFixture implements OrderedFixtureInterface {

  public function load(ObjectManager $manager) {
    $systemes = [
        ['nom' => 'Ubuntu', 'editeur' => 'Canonical', 'version' => '16.4'],
        ['nom' => 'Windows', 'editeur' => 'Microsoft', 'version' => '10'],
        ['nom' => 'Android', 'editeur' => 'Java', 'version' => '7.0']
    ];

    foreach ($systemes as $sys) {
      $system = new SystemeExploitation();
      $system->setNom($sys['nom']);
      $system->setEditeur($sys['editeur']);
      $system->setVersion($sys['version']);
      $manager->persist($system);
    }
    $manager->flush();
  }

  public function getOrder() {
    return 1;
  }

}
